<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>The bootstrap uncertainty analysis for runPairs results — runPairsBoot • EGRETci</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="The bootstrap uncertainty analysis for runPairs results — runPairsBoot"><meta property="og:description" content="The function that does the uncertainty analysis for determining the change between any 
pair of years.  It is very similar to the wBT function that runs the WRTDS 
bootstrap test.  It differs from wBT in that it runs a specific number of 
bootstrap replicates, unlike the wBT approach that will stop running replicates 
based on the status of the test statistics along the way.  Also, this code can be used with
generalized flow normalization, which handles non-stationary discharge, 
whereas wBT does not."><meta property="og:image" content="http://usgs-r.github.io/EGRETci/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-53797708-7"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53797708-7');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EGRETci</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.4.0001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/EGRETci.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Function Help Pages</a>
</li>
<li>
  <a href="../articles/Enhancements.html">Enhancements</a>
</li>
<li>
  <a href="../articles/prediction.html">WRTDS Kalman Prediction Intervals</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/USGS-R/EGRETci" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The bootstrap uncertainty analysis for runPairs results</h1>
    <small class="dont-index">Source: <a href="https://github.com/USGS-R/EGRETci/blob/HEAD/R/runPairsBoot.R" class="external-link"><code>R/runPairsBoot.R</code></a></small>
    <div class="hidden name"><code>runPairsBoot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function that does the uncertainty analysis for determining the change between any 
pair of years.  It is very similar to the <code><a href="wBT.html">wBT</a></code> function that runs the WRTDS 
bootstrap test.  It differs from <code><a href="wBT.html">wBT</a></code> in that it runs a specific number of 
bootstrap replicates, unlike the <code><a href="wBT.html">wBT</a></code> approach that will stop running replicates 
based on the status of the test statistics along the way.  Also, this code can be used with
generalized flow normalization, which handles non-stationary discharge, 
whereas <code><a href="wBT.html">wBT</a></code> does not.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">runPairsBoot</span><span class="op">(</span><span class="va">eList</span>, <span class="va">pairResults</span>, nBoot <span class="op">=</span> <span class="fl">100</span>, startSeed <span class="op">=</span> <span class="fl">494817</span>,</span>
<span>  blockLength <span class="op">=</span> <span class="fl">200</span>, jitterOn <span class="op">=</span> <span class="cn">FALSE</span>, V <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>eList</dt>
<dd><p>named list with at least the Daily, Sample, and INFO dataframes</p></dd>


<dt>pairResults</dt>
<dd><p>data frame returned from <code><a href="https://rdrr.io/pkg/EGRET/man/runPairs.html" class="external-link">runPairs</a></code></p></dd>


<dt>nBoot</dt>
<dd><p>the maximum number of bootstrap replicates to be used, typically 100</p></dd>


<dt>startSeed</dt>
<dd><p>setSeed value. Defaults to 494817. This is used to make repeatable output.</p></dd>


<dt>blockLength</dt>
<dd><p>days, typically 200 is a good choice</p></dd>


<dt>jitterOn</dt>
<dd><p>logical, if TRUE, adds "jitter" to the data in an attempt to avoid some numerical problems.  Default = FALSE.  See Details below.</p></dd>


<dt>V</dt>
<dd><p>numeric a multiplier for addition of jitter to the data, default = 0.2.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>eBoot, a named list with bootOut, wordsOut, xConc, xFlux, pConc, pFlux values.</p><ul><li><p>bootOut is a data frame with the results of the bootstrap test.</p></li>
<li><p>wordsOut is a character vector describing the results.</p></li>
<li><p>xConc and xFlux are vectors of length iBoot, of the change in flow normalized concentration
   and flow normalized flux computed from each of the bootstrap replicates.</p></li>
<li><p>pConc and pFlux are vectors of length iBoot, of the change in flow normalized concentration
   or flow normalized flux computed from each of the bootstrap replicates expressed as % change.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>In some situations numerical problems are encountered in the bootstrap process, resulting in highly unreasonable spikes in the confidence intervals.
The use of "jitter" can often prevent these problems, but should only be used when it is clearly needed.
It adds a small amount of random "jitter" to the explanatory variables of the WRTDS model.  The V parameter sets the scale of variation in the log discharge values.
The standard deviation of the added jitter is V * standard deviation of Log Q.
The default for V is 0.2.  Larger values should generally be avoided, and smaller values may be sufficient.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="runGroupsBoot.html">runGroupsBoot</a></code>, <code><a href="https://rdrr.io/pkg/EGRET/man/runPairs.html" class="external-link">runPairs</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pubs.usgs.gov/tm/04/a10/" class="external-link">EGRET</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">eList</span> <span class="op">&lt;-</span> <span class="va">Choptank_eList</span></span></span>
<span class="r-in"><span><span class="va">year1</span> <span class="op">&lt;-</span> <span class="fl">1985</span></span></span>
<span class="r-in"><span><span class="va">year2</span> <span class="op">&lt;-</span> <span class="fl">2009</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">pairOut_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/EGRET/man/runPairs.html" class="external-link">runPairs</a></span><span class="op">(</span><span class="va">eList</span>, <span class="va">year1</span>, <span class="va">year2</span>, windowSide <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">boot_pair_out</span> <span class="op">&lt;-</span> <span class="fu">runPairsBoot</span><span class="op">(</span><span class="va">eList</span>, <span class="va">pairOut_2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="plotHistogramTrend.html">plotHistogramTrend</a></span><span class="op">(</span><span class="va">eList</span>, <span class="va">boot_pair_out</span>, caseSetUp <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laura DeCicco, Robert Hirsch.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

